name: Vehicles
path: /vehicles

routes:
- upstream: /
  method: GET
  use: downstream
  downstream: vehicles-service/vehicles
  auth: true
  on_success:
    data: response.data.items

- upstream: /{vehicleId}
  method: GET
  use: downstream
  downstream: vehicles-service/vehicles/{vehicleId}
  auth: true

- upstream: /
  method: POST
  use: downstream
  downstream: vehicles-service/vehicles
  auth: true
  resource_id:
    property: vehicleId
    generate: true

- upstream: /{vehicleId}
  method: PUT
  use: downstream
  downstream: vehicles-service/vehicles/{vehicleId}
  auth: true

- upstream: /{vehicleId}
  method: DELETE
  use: downstream
  downstream: vehicles-service/vehicles/{vehicleId}
  auth: true
  
services:
  vehicles-service:
    local_url: localhost:5009
    url: load_balancer/vehicles-service